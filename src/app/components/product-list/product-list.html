<h2>Lista de Productos</h2>

<p-table
  [value]="products"
  [paginator]="true"
  [rows]="rows"
  [lazy]="true"
  (onLazyLoad)="loadData($event)"
  [totalRecords]="totalRecords"
  [loading]="loading"
  [rowsPerPageOptions]="[5, 10, 20]"
  [styleClass]="'p-datatable-sm'">

  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="nombre">
        Nombre
        <p-sortIcon field="nombre"></p-sortIcon>
      </th>
      <th pSortableColumn="descripcion">
        Descripción
        <p-sortIcon field="descripcion"></p-sortIcon>
      </th>
      <th>
        Imagen
      </th>
      <th pSortableColumn="categoriaNombre">
        Categoría
        <p-sortIcon field="categoriaNombre"></p-sortIcon>
      </th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-producto>
    <tr>
      <td>{{ producto.nombre }}</td>
      <td>{{ producto.descripcion }}</td>
      <td>
        <img *ngIf="producto.imagenUrl" [src]="producto.imagenUrl" alt="imagen" width="50" />
      </td>
      <td>{{ producto.categoriaNombre }}</td>
    </tr>
  </ng-template>

  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="4" class="text-center">No se encontraron productos</td>
    </tr>
  </ng-template>

</p-table>


